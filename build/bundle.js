var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function s(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c;function l(t,e){return t!=t?e==e:t!==e}function u(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function a(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function f(t,e,n){return t.set(n),e}const d="undefined"!=typeof window;let h=d?()=>window.performance.now():()=>Date.now(),$=d?t=>requestAnimationFrame(t):t;const m=new Set;function p(t){m.forEach((e=>{e.c(t)||(m.delete(e),e.f())})),0!==m.size&&$(p)}function g(t,e){t.appendChild(e)}function b(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function w(t){const e=E("style");return function(t,e){g(t.head||t,e)}(b(t),e),e.sheet}function v(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function x(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function E(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function N(){return _(" ")}function T(){return _("")}function A(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function S(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function O(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function L(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function z(t,e,n){t.classList[n?"add":"remove"](e)}function C(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}const M=new Map;let R,D=0;function P(t,e,n,o,r,s,i,c=0){const l=16.666/o;let u="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*s(t);u+=100*t+`%{${i(o,1-o)}}\n`}const a=u+`100% {${i(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${c}`,d=b(t),{stylesheet:h,rules:$}=M.get(d)||function(t,e){const n={stylesheet:w(e),rules:{}};return M.set(t,n),n}(d,t);$[f]||($[f]=!0,h.insertRule(`@keyframes ${f} ${a}`,h.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${o}ms linear ${r}ms 1 both`,D+=1,f}function W(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),D-=r,D||$((()=>{D||(M.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),M.clear())})))}function q(t){R=t}function B(){if(!R)throw new Error("Function called outside component initialization");return R}function I(t){B().$$.on_mount.push(t)}function U(t){B().$$.on_destroy.push(t)}function H(){const t=B();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=C(e,n);o.slice().forEach((e=>{e.call(t,r)}))}}}function V(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const j=[],F=[],G=[],J=[],K=Promise.resolve();let Q=!1;function X(t){G.push(t)}const Y=new Set;let Z,tt=0;function et(){const t=R;do{for(;tt<j.length;){const t=j[tt];tt++,q(t),nt(t.$$)}for(q(null),j.length=0,tt=0;F.length;)F.pop()();for(let t=0;t<G.length;t+=1){const e=G[t];Y.has(e)||(Y.add(e),e())}G.length=0}while(j.length);for(;J.length;)J.pop()();Q=!1,Y.clear(),q(t)}function nt(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}function ot(t,e,n){t.dispatchEvent(C(`${e?"intro":"outro"}${n}`))}const rt=new Set;let st;function it(){st={r:0,c:[],p:st}}function ct(){st.r||r(st.c),st=st.p}function lt(t,e){t&&t.i&&(rt.delete(t),t.i(e))}function ut(t,e,n,o){if(t&&t.o){if(rt.has(t))return;rt.add(t),st.c.push((()=>{rt.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const at={duration:0};function ft(n,o,i,c){let l=o(n,i),u=c?0:1,a=null,f=null,d=null;function g(){d&&W(n,d)}function b(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function w(o){const{delay:s=0,duration:i=300,easing:c=e,tick:w=t,css:v}=l||at,y={start:h()+s,b:o};o||(y.group=st,st.r+=1),a||f?f=y:(v&&(g(),d=P(n,u,o,i,s,c,v)),o&&w(0,1),a=b(y,i),X((()=>ot(n,o,"start"))),function(t){let e;0===m.size&&$(p),new Promise((n=>{m.add(e={c:t,f:n})}))}((t=>{if(f&&t>f.start&&(a=b(f,i),f=null,ot(n,a.b,"start"),v&&(g(),d=P(n,u,a.b,a.duration,0,c,l.css))),a)if(t>=a.end)w(u=a.b,1-u),ot(n,a.b,"end"),f||(a.b?g():--a.group.r||r(a.group.c)),a=null;else if(t>=a.start){const e=t-a.start;u=a.a+a.d*c(e/a.duration),w(u,1-u)}return!(!a&&!f)})))}return{run(t){s(l)?(Z||(Z=Promise.resolve(),Z.then((()=>{Z=null}))),Z).then((()=>{l=l(),w(t)})):w(t)},end(){g(),a=f=null}}}function dt(t){t&&t.c()}function ht(t,e,o,i){const{fragment:c,on_mount:l,on_destroy:u,after_update:a}=t.$$;c&&c.m(e,o),i||X((()=>{const e=l.map(n).filter(s);u?u.push(...e):r(e),t.$$.on_mount=[]})),a.forEach(X)}function $t(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function mt(t,e){-1===t.$$.dirty[0]&&(j.push(t),Q||(Q=!0,K.then(et)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function pt(e,n,s,i,c,l,u,a=[-1]){const f=R;q(e);const d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:o(),dirty:a,skip_bound:!1,root:n.target||f.$$.root};u&&u(d.root);let h=!1;if(d.ctx=s?s(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),h&&mt(e,t)),n})):[],d.update(),h=!0,r(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(y)}else d.fragment&&d.fragment.c();n.intro&&lt(e.$$.fragment),ht(e,n.target,n.anchor,n.customElement),et()}q(f)}class gt{$destroy(){$t(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var bt,wt,vt,yt,xt;!function(t){t[t.closed=0]="closed",t[t.flag=1]="flag",t[t.question=2]="question",t[t.flat=3]="flat",t[t.open=4]="open",t[t.wrong_flag=5]="wrong_flag"}(bt||(bt={})),function(t){t[t.zero=0]="zero",t[t.one=1]="one",t[t.two=2]="two",t[t.three=3]="three",t[t.four=4]="four",t[t.five=5]="five",t[t.six=6]="six",t[t.seven=7]="seven",t[t.eight=8]="eight"}(wt||(wt={})),function(t){t[t.OPEN=0]="OPEN",t[t.FLAG=2]="FLAG"}(vt||(vt={})),function(t){t[t.WON=0]="WON",t[t.LOST=1]="LOST",t[t.ACTIVE=2]="ACTIVE",t[t.UNSTARTED=3]="UNSTARTED"}(yt||(yt={})),function(t){t[t.easy=0]="easy",t[t.normal=1]="normal",t[t.hard=2]="hard",t[t.expert=3]="expert",t[t.custom=4]="custom"}(xt||(xt={}));const Et=[{width:11,height:8,bombs:10},{width:20,height:14,bombs:39},{width:29,height:20,bombs:102},{width:38,height:26,bombs:230}],kt={board:Et[xt.normal],question:!1,primary_action:vt.OPEN};const _t=[];function Nt(e,n=t){let o;const r=new Set;function s(t){if(i(e,t)&&(e=t,o)){const t=!_t.length;for(const t of r)t[1](),_t.push(t,e);if(t){for(let t=0;t<_t.length;t+=2)_t[t][0](_t[t+1]);_t.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,c=t){const l=[i,c];return r.add(l),1===r.size&&(o=n(s)||t),i(e),()=>{r.delete(l),0===r.size&&(o(),o=null)}}}}const Tt=Nt(yt.UNSTARTED),At=Nt(0);function St(t){let e;function n(t,e){return t[1]?Ct:zt}let o=n(t),r=o(t);return{c(){r.c(),e=T()},m(t,n){r.m(t,n),v(t,e,n)},p(t,s){o===(o=n(t))&&r?r.p(t,s):(r.d(1),r=o(t),r&&(r.c(),r.m(e.parentNode,e)))},d(t){r.d(t),t&&y(e)}}}function Ot(e){let n;return{c(){n=_("?")},m(t,e){v(t,n,e)},p:t,d(t){t&&y(n)}}}function Lt(t){let e,n,o,r=t[0]===bt.wrong_flag&&Mt();return{c(){e=k("svg"),n=k("path"),o=k("path"),r&&r.c(),S(n,"d","M2 10v-1h1v-1h2v-3h1v3h2v1h1v1z"),S(n,"fill","#000"),S(o,"d","M2 3.5l4-2.5v5z"),S(o,"fill","red"),S(e,"xmlns","http://www.w3.org/2000/svg"),S(e,"viewBox","0 0 11 11")},m(t,s){v(t,e,s),g(e,n),g(e,o),r&&r.m(e,null)},p(t,n){t[0]===bt.wrong_flag?r||(r=Mt(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(t){t&&y(e),r&&r.d()}}}function zt(t){let e,n=(t[2]?t[2]:"")+"";return{c(){e=_(n)},m(t,n){v(t,e,n)},p(t,o){4&o&&n!==(n=(t[2]?t[2]:"")+"")&&O(e,n)},d(t){t&&y(e)}}}function Ct(e){let n,o;return{c(){var t,e;n=E("img"),S(n,"class","bomb svelte-1bpx7b"),t=n.src,e=o="./img/bomb.svg",c||(c=document.createElement("a")),c.href=e,t!==c.href&&S(n,"src","./img/bomb.svg"),S(n,"alt","bomb")},m(t,e){v(t,n,e)},p:t,d(t){t&&y(n)}}}function Mt(t){let e;return{c(){e=k("path"),S(e,"d","M0 0L11 11zM0 11L11 0"),S(e,"stroke","#000"),S(e,"stroke-width","0.5")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function Rt(e){let n,o,s,i;function c(t,e){return t[0]===bt.flag||t[0]===bt.wrong_flag?Lt:t[0]===bt.question?Ot:t[0]===bt.open?St:void 0}let l=c(e),u=l&&l(e);return{c(){n=E("span"),u&&u.c(),S(n,"class",o="tile "+(wt[e[2]]||"")+" "+bt[e[0]]+" svelte-1bpx7b"),z(n,"exploded",e[3])},m(t,o){var r;v(t,n,o),u&&u.m(n,null),s||(i=[A(n,"click",e[5]),A(n,"contextmenu",(r=e[6],function(t){return t.preventDefault(),r.call(this,t)})),A(n,"mousedown",e[4])],s=!0)},p(t,[e]){l===(l=c(t))&&u?u.p(t,e):(u&&u.d(1),u=l&&l(t),u&&(u.c(),u.m(n,null))),5&e&&o!==(o="tile "+(wt[t[2]]||"")+" "+bt[t[0]]+" svelte-1bpx7b")&&S(n,"class",o),13&e&&z(n,"exploded",t[3])},i:t,o:t,d(t){t&&y(n),u&&u.d(),s=!1,r(i)}}}function Dt(t,e,n){let o,r;u(t,Tt,(t=>n(14,o=t))),u(t,At,(t=>n(15,r=t)));let{row:s}=e,{col:i}=e,{neighbors:c=[]}=e,{state:l=bt.closed}=e,{bomb:a=!1}=e,d=null,h=!1;const $=H();function m(t=!0){if(l===bt.closed)a?(f(Tt,o=yt.LOST,o),n(3,h=!0)):($("clicked",{row:s,col:i,neighbors:c}),null===d&&n(2,d=c.reduce(((t,e)=>e.bomb?t+1:t),0)),0===d&&c.forEach((t=>t.calculateBombs()))),n(0,l=bt.open);else if(l===bt.open&&t){c.reduce(((t,e)=>e.state===bt.flag?t+1:t),0)>=d&&c.forEach((t=>t.open(!1)))}}function p(){switch(l){case bt.closed:r<kt.board.bombs&&(n(0,l=bt.flag),f(At,r+=1,r));break;case bt.flag:n(0,l=bt.closed),f(At,r-=1,r);break;case bt.question:n(0,l=bt.closed)}}return U(Tt.subscribe((t=>{switch(t){case yt.LOST:l===bt.closed&&a?n(0,l=bt.open):l!==bt.flag||a||n(0,l=bt.wrong_flag);break;case yt.WON:a&&l!==bt.flag&&n(0,l=bt.flag)}}))),t.$$set=t=>{"row"in t&&n(7,s=t.row),"col"in t&&n(8,i=t.col),"neighbors"in t&&n(9,c=t.neighbors),"state"in t&&n(0,l=t.state),"bomb"in t&&n(1,a=t.bomb)},[l,a,d,h,function(t){0===t.button&&l===bt.open&&d&&($("flatten",{row:s,col:i}),c.forEach((t=>t.flatten())))},function(){o===yt.ACTIVE?kt.primary_action===vt.OPEN?m():p():o===yt.UNSTARTED&&m()},function(){o===yt.ACTIVE?kt.primary_action===vt.OPEN?p():m():o===yt.UNSTARTED&&m()},s,i,c,function(){null===d&&(n(2,d=c.reduce(((t,e)=>e.bomb?t+1:t),0)),a||m())},function(){l===bt.closed?n(0,l=bt.flat):l===bt.flat&&n(0,l=bt.closed)},m,function(t){0===t.button&&c.forEach((t=>t.flatten()))}]}class Pt extends gt{constructor(t){super(),pt(this,t,Dt,Rt,l,{row:7,col:8,neighbors:9,state:0,bomb:1,calculateBombs:10,flatten:11,open:12,unflattenNeighbors:13})}get row(){return this.$$.ctx[7]}set row(t){this.$$set({row:t}),et()}get col(){return this.$$.ctx[8]}set col(t){this.$$set({col:t}),et()}get neighbors(){return this.$$.ctx[9]}set neighbors(t){this.$$set({neighbors:t}),et()}get state(){return this.$$.ctx[0]}set state(t){this.$$set({state:t}),et()}get bomb(){return this.$$.ctx[1]}set bomb(t){this.$$set({bomb:t}),et()}get calculateBombs(){return this.$$.ctx[10]}get flatten(){return this.$$.ctx[11]}get open(){return this.$$.ctx[12]}get unflattenNeighbors(){return this.$$.ctx[13]}}function Wt(t){return Math.floor(Math.random()*t)}function qt(t,e,n){const o=t.slice();return o[7]=e[n],o[8]=e,o[9]=n,o}function Bt(t,e,n){const o=t.slice();return o[7]=e[n],o[10]=e,o[11]=n,o}function It(t){let e,n,o=t[9],r=t[11];const s=()=>t[3](e,o,r),i=()=>t[3](null,o,r);let c={row:t[9],col:t[11]};return e=new Pt({props:c}),s(),e.$on("clicked",t[2]),e.$on("flatten",t[4]),{c(){dt(e.$$.fragment)},m(t,o){ht(e,t,o),n=!0},p(t,n){o===t[9]&&r===t[11]||(i(),o=t[9],r=t[11],s());e.$set({})},i(t){n||(lt(e.$$.fragment,t),n=!0)},o(t){ut(e.$$.fragment,t),n=!1},d(t){i(),$t(e,t)}}}function Ut(t){let e,n,o=Array(kt.board.width),r=[];for(let e=0;e<o.length;e+=1)r[e]=It(Bt(t,o,e));const s=t=>ut(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=T()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);v(t,e,o),n=!0},p(t,n){if(5&n){let i;for(o=Array(kt.board.width),i=0;i<o.length;i+=1){const s=Bt(t,o,i);r[i]?(r[i].p(s,n),lt(r[i],1)):(r[i]=It(s),r[i].c(),lt(r[i],1),r[i].m(e.parentNode,e))}for(it(),i=o.length;i<r.length;i+=1)s(i);ct()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)lt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)ut(r[t]);n=!1},d(t){x(r,t),t&&y(e)}}}function Ht(t){let e,n,o=Array(kt.board.height),r=[];for(let e=0;e<o.length;e+=1)r[e]=Ut(qt(t,o,e));const s=t=>ut(r[t],1,1,(()=>{r[t]=null}));return{c(){e=E("div");for(let t=0;t<r.length;t+=1)r[t].c();S(e,"class","board svelte-1r5nu20"),L(e,"grid-template","repeat("+kt.board.height+", 1fr) / repeat("+kt.board.width+", 1fr)"),z(e,"disabled",t[1]===yt.WON||t[1]===yt.LOST)},m(t,o){v(t,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){if(5&n){let i;for(o=Array(kt.board.height),i=0;i<o.length;i+=1){const s=qt(t,o,i);r[i]?(r[i].p(s,n),lt(r[i],1)):(r[i]=Ut(s),r[i].c(),lt(r[i],1),r[i].m(e,null))}for(it(),i=o.length;i<r.length;i+=1)s(i);ct()}2&n&&z(e,"disabled",t[1]===yt.WON||t[1]===yt.LOST)},i(t){if(!n){for(let t=0;t<o.length;t+=1)lt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)ut(r[t]);n=!1},d(t){t&&y(e),x(r,t)}}}function Vt(t,e,n){let o;u(t,Tt,(t=>n(1,o=t)));const r=new Array(kt.board.height).fill(null).map((()=>[]));let s=kt.board.width*kt.board.height;return I((()=>{for(let t=0;t<r.length;++t)for(let e=0;e<r[t].length;++e){const o=[];for(let n=-1;n<=1;++n)for(let s=-1;s<=1;++s)(n||s)&&r[t+n]&&r[t+n][e+s]&&o.push(r[t+n][e+s]);n(0,r[t][e].neighbors=o,r)}})),[r,o,function(t){o===yt.UNSTARTED&&(f(Tt,o=yt.ACTIVE,o),function(t,e,o){const s=new Array(kt.board.width*kt.board.height).fill(null).map(((t,e)=>e)),i=new Set;i.add(e+t*kt.board.width),o.forEach((t=>i.add(t.col+t.row*kt.board.width)));for(let t=0;t<kt.board.bombs;++t){let t=Wt(s.length);for(;i.has(s[t]);)s.splice(t,1),t=Wt(s.length);const e=s.splice(t,1)[0];n(0,r[Math.floor(e/kt.board.width)][e%kt.board.width].bomb=!0,r)}}(t.detail.row,t.detail.col,t.detail.neighbors)),s-=1,s===kt.board.bombs&&(f(Tt,o=yt.WON,o),At.set(kt.board.bombs))},function(t,e,o){F[t?"unshift":"push"]((()=>{r[e][o]=t,n(0,r)}))},function(e){V.call(this,t,e)}]}class jt extends gt{constructor(t){super(),pt(this,t,Vt,Ht,i,{tiles:0})}get tiles(){return this.$$.ctx[0]}}function Ft(t){let e;return{c(){e=_("ðŸ™‚")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function Gt(t){let e;return{c(){e=_("ðŸ˜®")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function Jt(t){let e;return{c(){e=_("ðŸ˜–")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function Kt(t){let e;return{c(){e=_("ðŸ˜Ž")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function Qt(e){let n,o,r;function s(t,e){return t[1]===yt.WON?Kt:t[1]===yt.LOST?Jt:t[0]?Gt:Ft}let i=s(e),c=i(e);return{c(){n=E("div"),c.c(),S(n,"class","face svelte-1qtximc")},m(t,s){v(t,n,s),c.m(n,null),o||(r=A(n,"click",e[2]),o=!0)},p(t,[e]){i!==(i=s(t))&&(c.d(1),c=i(t),c&&(c.c(),c.m(n,null)))},i:t,o:t,d(t){t&&y(n),c.d(),o=!1,r()}}}function Xt(t,e,n){let o;u(t,Tt,(t=>n(1,o=t)));let{anticipating:r}=e;return t.$$set=t=>{"anticipating"in t&&n(0,r=t.anticipating)},[r,o,function(e){V.call(this,t,e)}]}class Yt extends gt{constructor(t){super(),pt(this,t,Xt,Qt,i,{anticipating:0})}}function Zt(e){let n,o;return{c(){n=E("div"),o=_(e[0]),S(n,"class","display svelte-1umr28q")},m(t,e){v(t,n,e),g(n,o)},p(t,[e]){1&e&&O(o,t[0])},i:t,o:t,d(t){t&&y(n)}}}function te(t,e,n){let{value:o}=e;return t.$$set=t=>{"value"in t&&n(0,o=t.value)},[o]}class ee extends gt{constructor(t){super(),pt(this,t,te,Zt,i,{value:0})}}function ne(t){let e,n;return e=new ee({props:{value:t[0]}}),{c(){dt(e.$$.fragment)},m(t,o){ht(e,t,o),n=!0},p(t,[n]){const o={};1&n&&(o.value=t[0]),e.$set(o)},i(t){n||(lt(e.$$.fragment,t),n=!0)},o(t){ut(e.$$.fragment,t),n=!1},d(t){$t(e,t)}}}function oe(t,e,n){let o,r,s="00:00";return[s,function(){r=0,o=setInterval((()=>{r+=1;const t=Math.floor(r/3600);n(0,s=(t?`${t}:`.padStart(3,"0"):"")+`${Math.floor(r%3600/60)}:`.padStart(3,"0")+(""+r%60).padStart(2,"0"))}),1e3)},function(){clearInterval(o)},function(){clearInterval(o),n(0,s="00:00")}]}class re extends gt{constructor(t){super(),pt(this,t,oe,ne,i,{start:1,stop:2,reset:3})}get start(){return this.$$.ctx[1]}get stop(){return this.$$.ctx[2]}get reset(){return this.$$.ctx[3]}}function se(t,{delay:n=0,duration:o=400,easing:r=e}={}){const s=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*s}}function ie(t){let e,n,o,r;const s=t[4].default,i=function(t,e,n,o){if(t){const r=a(t,e,n,o);return t[0](r)}}(s,t,t[3],null);return{c(){e=E("div"),i&&i.c(),S(e,"class","radio svelte-18dwl1k"),S(e,"checked",t[0])},m(s,c){v(s,e,c),i&&i.m(e,null),n=!0,o||(r=A(e,"click",t[5]),o=!0)},p(t,[o]){i&&i.p&&(!n||8&o)&&function(t,e,n,o,r,s){if(r){const i=a(e,n,o,s);t.p(i,r)}}(i,s,t,t[3],n?function(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}(s,t[3],o,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[3]),null),(!n||1&o)&&S(e,"checked",t[0])},i(t){n||(lt(i,t),n=!0)},o(t){ut(i,t),n=!1},d(t){t&&y(e),i&&i.d(t),o=!1,r()}}}class ce{constructor(){this.elements=new Set,this.value=null,this.size=0}add(t){t.isChecked()&&this.check(t),this.elements.add(t),++this.size}delete(t){this.elements.delete(t),--this.size,t.isChecked()&&(this.value=null)}check(t){this.value=t.value;for(const e of this.elements)e.isChecked()&&e!==t&&e.uncheck()}}const le=new Map;function ue(t,e,n){let{$$slots:o={},$$scope:r}=e,{checked:s=!1}=e,{name:i=null}=e,{value:c}=e;const l={value:c,isChecked:()=>s,uncheck:()=>n(0,s=!1)};I((()=>{i&&(le.has(i)||le.set(i,new ce),le.get(i).add(l))})),U((()=>{if(i){const t=le.get(i);1===t.size?le.delete(i):t.delete(l)}}));return t.$$set=t=>{"checked"in t&&n(0,s=t.checked),"name"in t&&n(1,i=t.name),"value"in t&&n(2,c=t.value),"$$scope"in t&&n(3,r=t.$$scope)},t.$$.update=()=>{3&t.$$.dirty&&s&&i&&le.get(i).check(l)},[s,i,c,r,o,()=>n(0,s=!0)]}class ae extends gt{constructor(t){super(),pt(this,t,ue,ie,i,{checked:0,name:1,value:2})}}function fe(t){let e;return{c(){e=_("Easy")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function de(t){let e;return{c(){e=_("Normal")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function he(t){let e;return{c(){e=_("Hard")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function $e(t){let e;return{c(){e=_("Expert")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function me(t){let e;return{c(){e=_("Custom")},m(t,n){v(t,e,n)},d(t){t&&y(e)}}}function pe(t){let e,n,o,r,s,i,c,l,u,a,f,d,h,$,m,p,b,w,x,_,T,O,L,C;return a=new ae({props:{value:"0",name:"difficulty",$$slots:{default:[fe]},$$scope:{ctx:t}}}),d=new ae({props:{value:"1",name:"difficulty",$$slots:{default:[de]},$$scope:{ctx:t}}}),$=new ae({props:{value:"2",name:"difficulty",$$slots:{default:[he]},$$scope:{ctx:t}}}),p=new ae({props:{value:"3",name:"difficulty",$$slots:{default:[$e]},$$scope:{ctx:t}}}),w=new ae({props:{value:"4",name:"difficulty",$$slots:{default:[me]},$$scope:{ctx:t}}}),{c(){e=E("div"),n=E("section"),o=E("h1"),o.textContent="Settings",r=N(),s=k("svg"),i=k("path"),c=N(),l=E("h2"),l.textContent="Difficulty",u=N(),dt(a.$$.fragment),f=N(),dt(d.$$.fragment),h=N(),dt($.$$.fragment),m=N(),dt(p.$$.fragment),b=N(),dt(w.$$.fragment),x=N(),_=E("div"),_.innerHTML='<h4>Width</h4> \n\t\t\t<input type="range" id="width" step="1" class="svelte-x8wl84"/> \n\t\t\t<h4>Height</h4> \n\t\t\t<input type="range" id="height" step="1" class="svelte-x8wl84"/> \n\t\t\t<h4>Bombs</h4> \n\t\t\t<input type="range" id="bombs" step="1" class="svelte-x8wl84"/>',S(i,"d","M1 1L7 7M7 1L1 7"),S(s,"class","close svelte-x8wl84"),S(s,"xmlns","http://www.w3.org/2000/svg"),S(s,"viewBox","0 0 8 8"),S(_,"class","custom svelte-x8wl84"),S(n,"class","svelte-x8wl84"),S(e,"class","settings svelte-x8wl84"),z(e,"visible",t[0])},m(y,E){v(y,e,E),g(e,n),g(n,o),g(n,r),g(n,s),g(s,i),g(n,c),g(n,l),g(n,u),ht(a,n,null),g(n,f),ht(d,n,null),g(n,h),ht($,n,null),g(n,m),ht(p,n,null),g(n,b),ht(w,n,null),g(n,x),g(n,_),O=!0,L||(C=A(s,"click",t[1]),L=!0)},p(t,[n]){const o={};8&n&&(o.$$scope={dirty:n,ctx:t}),a.$set(o);const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),d.$set(r);const s={};8&n&&(s.$$scope={dirty:n,ctx:t}),$.$set(s);const i={};8&n&&(i.$$scope={dirty:n,ctx:t}),p.$set(i);const c={};8&n&&(c.$$scope={dirty:n,ctx:t}),w.$set(c),1&n&&z(e,"visible",t[0])},i(t){O||(lt(a.$$.fragment,t),lt(d.$$.fragment,t),lt($.$$.fragment,t),lt(p.$$.fragment,t),lt(w.$$.fragment,t),X((()=>{T||(T=ft(e,se,{duration:200},!0)),T.run(1)})),O=!0)},o(t){ut(a.$$.fragment,t),ut(d.$$.fragment,t),ut($.$$.fragment,t),ut(p.$$.fragment,t),ut(w.$$.fragment,t),T||(T=ft(e,se,{duration:200},!1)),T.run(0),O=!1},d(t){t&&y(e),$t(a),$t(d),$t($),$t(p),$t(w),t&&T&&T.end(),L=!1,C()}}}function ge(t,e,n){let{visible:o=!1}=e;const r=H();return t.$$set=t=>{"visible"in t&&n(0,o=t.visible)},[o,function(){var t,e;(t=Number(le.get("difficulty").value))===xt.custom?kt.board=e:kt.board=Et[t],r("close"),n(0,o=!1)}]}class be extends gt{constructor(t){super(),pt(this,t,ge,pe,i,{visible:0})}}function we(t){let e,n;return e=new jt({props:{}}),t[15](e),e.$on("flatten",t[16]),{c(){dt(e.$$.fragment)},m(t,o){ht(e,t,o),n=!0},p(t,n){e.$set({})},i(t){n||(lt(e.$$.fragment,t),n=!0)},o(t){ut(e.$$.fragment,t),n=!1},d(n){t[15](null),$t(e,n)}}}function ve(e){let n,o,r,s,c,l,u,a,f,d=e[0];r=new ee({props:{value:kt.board.bombs-e[9]}}),c=new Yt({props:{anticipating:e[3]}}),c.$on("click",e[12]);u=new re({props:{}}),e[14](u);let h=we(e);return{c(){n=E("main"),o=E("header"),dt(r.$$.fragment),s=N(),dt(c.$$.fragment),l=N(),dt(u.$$.fragment),a=N(),h.c(),S(o,"class","svelte-1elxm43"),L(n,"--tile-size",e[5]),S(n,"class","svelte-1elxm43")},m(t,i){v(t,n,i),g(n,o),ht(r,o,null),g(o,s),ht(c,o,null),g(o,l),ht(u,o,null),g(n,a),h.m(n,null),e[17](n),f=!0},p(e,o){const s={};512&o&&(s.value=kt.board.bombs-e[9]),r.$set(s);const l={};8&o&&(l.anticipating=e[3]),c.$set(l);u.$set({}),1&o&&i(d,d=e[0])?(it(),ut(h,1,1,t),ct(),h=we(e),h.c(),lt(h),h.m(n,null)):h.p(e,o),(!f||32&o)&&L(n,"--tile-size",e[5])},i(t){f||(lt(r.$$.fragment,t),lt(c.$$.fragment,t),lt(u.$$.fragment,t),lt(h),f=!0)},o(t){ut(r.$$.fragment,t),ut(c.$$.fragment,t),ut(u.$$.fragment,t),ut(h),f=!1},d(t){t&&y(n),$t(r),$t(c),e[14](null),$t(u),h.d(t),e[17](null)}}}function ye(e){let n,o,s,c,l,u,a,f=e[7],d=ve(e);function h(t){e[18](t)}let $={};return void 0!==e[8]&&($.visible=e[8]),s=new be({props:$}),F.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(s,"visible",h))),s.$on("close",e[13]),{c(){n=N(),d.c(),o=N(),dt(s.$$.fragment)},m(t,r){v(t,n,r),d.m(t,r),v(t,o,r),ht(s,t,r),l=!0,u||(a=[A(document.body,"mousedown",e[11]),A(document.body,"mouseup",e[10])],u=!0)},p(e,[n]){128&n&&i(f,f=e[7])?(it(),ut(d,1,1,t),ct(),d=ve(e),d.c(),lt(d),d.m(o.parentNode,o)):d.p(e,n);const r={};var l;!c&&256&n&&(c=!0,r.visible=e[8],l=()=>c=!1,J.push(l)),s.$set(r)},i(t){l||(lt(d),lt(s.$$.fragment,t),l=!0)},o(t){ut(d),ut(s.$$.fragment,t),l=!1},d(t){t&&y(n),d.d(t),t&&y(o),$t(s,t),u=!1,r(a)}}}function xe(t,e,n){let o,r;u(t,At,(t=>n(9,o=t))),u(t,Tt,(t=>n(19,r=t)));let s,i,c,l,a=0,d=null,h=!1,$=!1,m=!0;c=window.innerWidth>window.innerHeight?100/(kt.board.height+1.5)+"vmin":100/kt.board.width+"vmin",l&&l.style.setProperty("--tile-size",c);const p=Tt.subscribe((t=>{switch(t){case yt.ACTIVE:i.start();break;case yt.WON:case yt.LOST:i.stop()}}));I((()=>{window.addEventListener("resize",(()=>{window.innerWidth>window.innerHeight?n(5,c=100/(kt.board.height+1.5)+"vmin"):n(5,c=100/kt.board.width+"vmin"),l&&l.style.setProperty("--tile-size",c)}))})),U(p);return[a,d,s,h,i,c,l,$,m,o,function(t){t.button===kt.primary_action&&t.target.classList.contains("tile")&&n(3,h=!1),d&&(d.unflattenNeighbors(t),n(1,d=null))},function(t){t.button===kt.primary_action&&t.target.classList.contains("tile")&&n(3,h=!0)},function(){r!==yt.UNSTARTED?(n(0,a+=1),f(Tt,r=yt.UNSTARTED,r),i.reset(),f(At,o=0,o)):n(8,m=!0)},function(){window.innerWidth>window.innerHeight?n(5,c=100/(kt.board.height+1.5)+"vmin"):n(5,c=100/kt.board.width+"vmin"),l&&l.style.setProperty("--tile-size",c),n(7,$=!$)},function(t){F[t?"unshift":"push"]((()=>{i=t,n(4,i)}))},function(t){F[t?"unshift":"push"]((()=>{s=t,n(2,s)}))},t=>n(1,d=s.tiles[t.detail.row][t.detail.col]),function(t){F[t?"unshift":"push"]((()=>{l=t,n(6,l)}))},function(t){m=t,n(8,m)}]}return new class extends gt{constructor(t){super(),pt(this,t,xe,ye,i,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
